# **[PRD] Palette: 미대 입시생을 위한 프리미엄 피드백 커뮤니티 (v1.0)**

## **1. 프로젝트 개요 (Project Overview)**
*   **프로젝트명:** Palette (팔레트)
*   **플랫폼 형태:** 모바일 우선 반응형 웹 (Mobile-First Responsive Web).
*   **핵심 목표:** 입시 미술 시장의 정보 불균형 해소 및 고품질 피드백 제공.

## **2. 사용자 역할 및 네비게이션 (User Roles & Navigation)**

### **A. 게스트 (비로그인 방문자)**
*   **접근 권한:** 메인 갤러리(썸네일) 조회 가능. 상세 보기 클릭 시 `로그인/회원가입` 페이지로 리다이렉트.
*   **랜딩 페이지:** 서비스 소개(Hero Section) + 최신 갤러리 프리뷰 노출.

### **B. 학생 (Student)**
> **GNB:** `갤러리` | `멘토 찾기` | `모의고사` | `내 질문함` | `마이페이지`
*   **권한:** 갤러리 업로드, 댓글 작성, 1:1 질문(결제), 모의고사 응시, 포트폴리오 관리.

### **C. 멘토 (Mentor)**
> **GNB:** `갤러리` | `멘토 찾기` | `모의고사` | `코칭 센터` | `마이페이지`
*   **권한:**
    *   **승인 전:** 프로필 설정 및 서류 업로드 화면만 접근 가능. (타 메뉴 접근 시 "승인 대기 중" 안내)
    *   **승인 후:** 갤러리 댓글, 1:1 답변 작성(Canvas), 모의고사 주최, 프로필/예시 관리.

### **D. 관리자 (Admin)**
> **GNB:** `대시보드` | `사용자 관리` | `콘텐츠 관리` | `모의고사 관리` | `설정`
*   **권한:** 멘토 승인/반려, 신고 처리, 환불 관리, 전체 공지 등록.

## **3. 기능 상세 명세 (Functional Requirements)**

### **MODULE 1: 계정 및 인증 (Auth & Profile)**

| 기능 ID | 기능명 | 상세 로직 및 예외 처리 |
| :--- | :--- | :--- |
| **U-01** | **회원가입/로그인** | - 이메일/비밀번호 기반.<br>- 역할(학생/멘토) 선택 필수. |
| **U-02** | **멘토 심사 프로세스** | - **제출:** 증빙 서류 업로드.<br>- **승인:** 관리자 승인 시 `is_verified: true` 변경, 멘토 배지 활성화.<br>- **반려:** 관리자가 반려 사유 입력 -> 멘토 접속 시 "반려 사유" 팝업 노출 및 재제출 버튼 활성화. |
| **U-03** | **알림 센터 (New)** | - 상단 네비게이션 '종' 아이콘.<br>- **Trigger:** 내 글에 댓글 달림, 1:1 답변 도착, 멘토 승인 결과, 모의고사 시작 10분 전. |

### **MODULE 2: 커뮤니티 (Gallery)**

| 기능 ID | 기능명 | 상세 로직 |
| :--- | :--- | :--- |
| **C-01** | **작품 업로드** | - 학생만 가능.<br>- 이미지 최적화(Resizing) 처리 필요. |
| **C-02** | **피드백 댓글** | - 멘토 댓글은 UI적으로 강조 (배경색, 멘토 배지).<br>- 작성자 본인이 아닌 경우 수정/삭제 불가. |
| **C-03** | **스크랩(북마크)** | - 학생은 마음에 드는 작품을 스크랩하여 `마이페이지 > 스크랩북`에서 확인 가능. |

### **MODULE 3: 1:1 코칭 (Coaching System)**

| 기능 ID | 기능명 | 상세 로직 및 예외 처리 |
| :--- | :--- | :--- |
| **P-01** | **질문하기** | - 크레딧 차감 (잔액 부족 시 충전/안내 팝업).<br>- 질문 상태: `Open`으로 생성. |
| **P-02** | **SLA 타이머** | - 질문 등록 즉시 24시간 카운트다운 시작.<br>- **Time-out:** 24시간 내 멘토 미답변 시 상태 `Expired` 변경 -> 크레딧 자동 환불. |
| **P-03** | **답변하기 (Canvas)** | - 멘토 전용 툴: 이미지 로드 -> 브러시/도형/텍스트 그리기 -> 저장.<br>- 답변 등록 시 질문 상태 `Answered`로 변경. |
| **P-04** | **추가 질문 (Re-ask)** | - 학생은 `Answered` 상태에서 1회 추가 질문 가능.<br>- 상태 `Re-opened`로 변경 (이때는 24시간 제한 없음, 멘토 자율). |
| **P-05** | **세션 자동 종료** | - 멘토가 답변한 뒤 **48시간 동안** 학생의 추가 질문이 없으면 상태 `Closed`로 자동 확정. |

### **MODULE 4: 실시간 모의고사 (Live Exam)**

| 기능 ID | 기능명 | 상세 로직 |
| :--- | :--- | :--- |
| **E-01** | **시험 동기화** | - **Server Time** 기준.<br>- `Start Time`: 새로고침 없이 주제 이미지 공개 (WebSocket 또는 Polling).<br>- `End Time`: 업로드 버튼 비활성화. |
| **E-02** | **지각/중도 입장** | - 시험 시작 후에도 `End Time` 전이면 '참가 신청'한 학생은 입장 및 제출 가능. |
| **E-03** | **필수 피드백** | - 주최 멘토는 제출된 모든 그림에 코멘트를 달아야 '채점 완료' 상태로 변경 가능. |

### **MODULE 5: 마이페이지 & 관리자**

| 기능 ID | 기능명 | 상세 로직 |
| :--- | :--- | :--- |
| **M-01** | **학생 마이페이지** | - `내 포트폴리오` (업로드한 그림 Grid)<br>- `스크랩북`<br>- `크레딧 내역` (지급/사용/환불 로그 테이블) |
| **M-02** | **멘토 마이페이지** | - `프로필 편집` (소개글, 전문 분야 태그)<br>- `예시 관리` (Best Practice 이미지 등록) |
| **A-01** | **관리자 기능** | - 멘토 승인/반려 (반려 사유 입력 필드 필수).<br>- 신고된 게시물 블라인드 처리. |

## **4. 데이터베이스 설계 (ERD Key Concept)**

*   **Users:** `id`, `role`, `email`, `nickname`, `profile_image`, `credit_balance`
*   **Mentor_Profiles:** `user_id`, `university_tags`, `style_tags`, `academy_name`, `verification_status`, `reject_reason`
*   **Artworks (Gallery):** `id`, `user_id`, `image_url`, `title`, `description`, `likes_count`
*   **Coaching_Tickets:** `id`, `student_id`, `mentor_id`, `status` (Open, Answered, Closed, Expired), `original_image`, `feedback_image`, `created_at`, `expires_at`
*   **Exams:** `id`, `host_mentor_id`, `start_time`, `end_time`, `subject_image`, `status`

## **5. 디자인 가이드 (UI/UX)**

*   **Mobile Navigation:**
    *   상단: [로고] ---------------- [알림][햄버거 메뉴]
    *   햄버거 메뉴 클릭 시: 우측에서 슬라이드(Drawer)로 GNB 메뉴 노출.
*   **Feedback UI:**
    *   멘토의 드로잉 피드백 확인 시, 원본/수정본을 토글(Toggle)하거나 겹쳐서 투명도 조절(Overlay) 할 수 있는 기능 권장.